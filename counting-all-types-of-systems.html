<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>15 Counting All Types of Systems | Tidy Hurricanes</title>
  <meta name="description" content="<p>This manuscript describes various examples for how to use Tidyverse tools to
perform an exploratory analysis of storms and hurricanes in the North Atlantic.</p>" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="15 Counting All Types of Systems | Tidy Hurricanes" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://www.gastonsanchez.com/R-tidy-hurricanes/images/R-tidy-hurricanes-cover.png" />
  <meta property="og:description" content="<p>This manuscript describes various examples for how to use Tidyverse tools to
perform an exploratory analysis of storms and hurricanes in the North Atlantic.</p>" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="15 Counting All Types of Systems | Tidy Hurricanes" />
  
  <meta name="twitter:description" content="<p>This manuscript describes various examples for how to use Tidyverse tools to
perform an exploratory analysis of storms and hurricanes in the North Atlantic.</p>" />
  <meta name="twitter:image" content="https://www.gastonsanchez.com/R-tidy-hurricanes/images/R-tidy-hurricanes-cover.png" />

<meta name="author" content="Gaston Sanchez" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<link rel="prev" href="counting-more-systems.html"/>
<link rel="next" href="basic-maps.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><b>Tidy Hurricanes</b><br><small>Gaston Sanchez</small></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#my-series-of-r-tutorials"><i class="fa fa-check"></i>My Series of R Tutorials</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#donation"><i class="fa fa-check"></i>Donation</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
</ul></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="tables-and-tidyverse.html"><a href="tables-and-tidyverse.html"><i class="fa fa-check"></i><b>1</b> Tables and Tidyverse</a>
<ul>
<li class="chapter" data-level="" data-path="tables-and-tidyverse.html"><a href="tables-and-tidyverse.html#installing-tidyverse"><i class="fa fa-check"></i>Installing Tidyverse</a></li>
<li class="chapter" data-level="" data-path="tables-and-tidyverse.html"><a href="tables-and-tidyverse.html#a-bit-about-tidyverse"><i class="fa fa-check"></i>A bit about Tidyverse</a></li>
<li class="chapter" data-level="" data-path="tables-and-tidyverse.html"><a href="tables-and-tidyverse.html#note"><i class="fa fa-check"></i>Note</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tropical-storms.html"><a href="tropical-storms.html"><i class="fa fa-check"></i><b>2</b> Tropical Storms and Hurricanes</a>
<ul>
<li class="chapter" data-level="2.1" data-path="tropical-storms.html"><a href="tropical-storms.html#a-little-bit-about-hurricanes"><i class="fa fa-check"></i><b>2.1</b> A little bit about Hurricanes</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="tropical-storms.html"><a href="tropical-storms.html#tropical-cyclones"><i class="fa fa-check"></i><b>2.1.1</b> Tropical Cyclones</a></li>
<li class="chapter" data-level="2.1.2" data-path="tropical-storms.html"><a href="tropical-storms.html#storm-classification"><i class="fa fa-check"></i><b>2.1.2</b> Storm Classification</a></li>
<li class="chapter" data-level="2.1.3" data-path="tropical-storms.html"><a href="tropical-storms.html#naming-storms"><i class="fa fa-check"></i><b>2.1.3</b> Naming Storms</a></li>
<li class="chapter" data-level="2.1.4" data-path="tropical-storms.html"><a href="tropical-storms.html#atlantic-hurricane-season"><i class="fa fa-check"></i><b>2.1.4</b> Atlantic Hurricane Season</a></li>
<li class="chapter" data-level="2.1.5" data-path="tropical-storms.html"><a href="tropical-storms.html#storm-formation"><i class="fa fa-check"></i><b>2.1.5</b> Storm Formation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="storms.html"><a href="storms.html"><i class="fa fa-check"></i><b>3</b> Data Set <code>storms</code></a>
<ul>
<li class="chapter" data-level="3.1" data-path="storms.html"><a href="storms.html#atlantic-hurricane-data"><i class="fa fa-check"></i><b>3.1</b> Atlantic Hurricane Data</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="storms.html"><a href="storms.html#data-storms"><i class="fa fa-check"></i><b>3.1.1</b> Data <code>storms</code></a></li>
<li class="chapter" data-level="3.1.2" data-path="storms.html"><a href="storms.html#storms-documentation"><i class="fa fa-check"></i><b>3.1.2</b> <code>storms</code> Documentation</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="storms.html"><a href="storms.html#general-inspection"><i class="fa fa-check"></i><b>3.2</b> General Inspection</a></li>
</ul></li>
<li class="part"><span><b>II Getting Started with Tidy Tools</b></span></li>
<li class="chapter" data-level="4" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html"><i class="fa fa-check"></i><b>4</b> Graphics with <code>"ggplot2"</code></a>
<ul>
<li class="chapter" data-level="4.1" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#sample-data"><i class="fa fa-check"></i><b>4.1</b> Sample Data</a></li>
<li class="chapter" data-level="4.2" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#basics-of-ggplot2"><i class="fa fa-check"></i><b>4.2</b> Basics of <code>"ggplot2"</code></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#some-terminology"><i class="fa fa-check"></i><b>4.2.1</b> Some Terminology</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#basic-scatterplot"><i class="fa fa-check"></i><b>4.3</b> Basic Scatterplot</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#storing-a-ggplot-object"><i class="fa fa-check"></i><b>4.3.1</b> Storing a <code>ggplot</code> object</a></li>
<li class="chapter" data-level="4.3.2" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#more-mappings"><i class="fa fa-check"></i><b>4.3.2</b> More Mappings</a></li>
<li class="chapter" data-level="4.3.3" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#setting-values"><i class="fa fa-check"></i><b>4.3.3</b> Setting Values</a></li>
<li class="chapter" data-level="4.3.4" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#customizing-scales"><i class="fa fa-check"></i><b>4.3.4</b> Customizing Scales</a></li>
<li class="chapter" data-level="4.3.5" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#themes-annotations-etc"><i class="fa fa-check"></i><b>4.3.5</b> Themes, Annotations, etc</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html"><i class="fa fa-check"></i><b>5</b> Data Manipulation with <code>"dplyr"</code></a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#basic-dplyr-verbs"><i class="fa fa-check"></i><b>5.1</b> Basic <code>"dplyr"</code> verbs</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#filter"><i class="fa fa-check"></i><b>5.1.1</b> Filter</a></li>
<li class="chapter" data-level="5.1.2" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#slice"><i class="fa fa-check"></i><b>5.1.2</b> Slice</a></li>
<li class="chapter" data-level="5.1.3" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#select"><i class="fa fa-check"></i><b>5.1.3</b> Select</a></li>
<li class="chapter" data-level="5.1.4" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#mutate"><i class="fa fa-check"></i><b>5.1.4</b> Mutate</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="piper.html"><a href="piper.html"><i class="fa fa-check"></i><b>6</b> The Pipe Operators</a>
<ul>
<li class="chapter" data-level="6.1" data-path="piper.html"><a href="piper.html#piping"><i class="fa fa-check"></i><b>6.1</b> Piping</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="piper.html"><a href="piper.html#the-pipe-operator"><i class="fa fa-check"></i><b>6.1.1</b> The pipe operator</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="single-columns.html"><a href="single-columns.html"><i class="fa fa-check"></i><b>7</b> Inspecting Single Columns</a>
<ul>
<li class="chapter" data-level="7.1" data-path="single-columns.html"><a href="single-columns.html#basic-inspection-of-year"><i class="fa fa-check"></i><b>7.1</b> Basic Inspection of Year</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="single-columns.html"><a href="single-columns.html#barplot-of-year-values"><i class="fa fa-check"></i><b>7.1.1</b> Barplot of <code>year</code> values</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="single-columns.html"><a href="single-columns.html#basic-inspection-of-month"><i class="fa fa-check"></i><b>7.2</b> Basic inspection of <code>month</code></a></li>
<li class="chapter" data-level="7.3" data-path="single-columns.html"><a href="single-columns.html#exercises"><i class="fa fa-check"></i><b>7.3</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>III Analyzing Storms in 1975</b></span></li>
<li class="chapter" data-level="8" data-path="storms-in-1975.html"><a href="storms-in-1975.html"><i class="fa fa-check"></i><b>8</b> Storms in 1975</a>
<ul>
<li class="chapter" data-level="8.1" data-path="storms-in-1975.html"><a href="storms-in-1975.html#visualizing-1975-data"><i class="fa fa-check"></i><b>8.1</b> Visualizing 1975 data</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="storms-in-1975.html"><a href="storms-in-1975.html#histograms"><i class="fa fa-check"></i><b>8.1.1</b> Histograms</a></li>
<li class="chapter" data-level="8.1.2" data-path="storms-in-1975.html"><a href="storms-in-1975.html#boxplots"><i class="fa fa-check"></i><b>8.1.2</b> Boxplots</a></li>
<li class="chapter" data-level="8.1.3" data-path="storms-in-1975.html"><a href="storms-in-1975.html#density-curves"><i class="fa fa-check"></i><b>8.1.3</b> Density Curves</a></li>
<li class="chapter" data-level="8.1.4" data-path="storms-in-1975.html"><a href="storms-in-1975.html#facets"><i class="fa fa-check"></i><b>8.1.4</b> Facets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="storm-amy-1975.html"><a href="storm-amy-1975.html"><i class="fa fa-check"></i><b>9</b> Storm Amy (1975)</a>
<ul>
<li class="chapter" data-level="9.1" data-path="storm-amy-1975.html"><a href="storm-amy-1975.html#exploring-wind"><i class="fa fa-check"></i><b>9.1</b> Exploring <code>wind</code></a></li>
<li class="chapter" data-level="9.2" data-path="storm-amy-1975.html"><a href="storm-amy-1975.html#exploring-pressure"><i class="fa fa-check"></i><b>9.2</b> Exploring <code>pressure</code></a></li>
<li class="chapter" data-level="9.3" data-path="storm-amy-1975.html"><a href="storm-amy-1975.html#exercises-1"><i class="fa fa-check"></i><b>9.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="summarizing-1975-data.html"><a href="summarizing-1975-data.html"><i class="fa fa-check"></i><b>10</b> Summarizing 1975 Data</a>
<ul>
<li class="chapter" data-level="10.1" data-path="summarizing-1975-data.html"><a href="summarizing-1975-data.html#group-by-operations"><i class="fa fa-check"></i><b>10.1</b> Group-by Operations</a></li>
<li class="chapter" data-level="10.2" data-path="summarizing-1975-data.html"><a href="summarizing-1975-data.html#arrange-operations"><i class="fa fa-check"></i><b>10.2</b> Arrange operations</a></li>
<li class="chapter" data-level="10.3" data-path="summarizing-1975-data.html"><a href="summarizing-1975-data.html#further-inspection-of-1975-storm-amy"><i class="fa fa-check"></i><b>10.3</b> Further inspection of 1975 storm Amy</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="summarizing-1975-data.html"><a href="summarizing-1975-data.html#your-turn"><i class="fa fa-check"></i><b>10.3.1</b> Your Turn</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>11</b> Summary</a>
<ul>
<li class="chapter" data-level="11.1" data-path="summary.html"><a href="summary.html#number-of-storms-per-year"><i class="fa fa-check"></i><b>11.1</b> Number of Storms per Year</a></li>
<li class="chapter" data-level="11.2" data-path="summary.html"><a href="summary.html#your-turn-1"><i class="fa fa-check"></i><b>11.2</b> Your Turn</a></li>
</ul></li>
<li class="part"><span><b>IV Analyzing Storms 1975-2020</b></span></li>
<li class="chapter" data-level="12" data-path="counting-tropical-systems.html"><a href="counting-tropical-systems.html"><i class="fa fa-check"></i><b>12</b> Counting Tropical Systems</a></li>
<li class="chapter" data-level="13" data-path="visualizing-number-of-systems.html"><a href="visualizing-number-of-systems.html"><i class="fa fa-check"></i><b>13</b> Visualizing Number of Systems</a>
<ul>
<li class="chapter" data-level="13.1" data-path="visualizing-number-of-systems.html"><a href="visualizing-number-of-systems.html#barcharts"><i class="fa fa-check"></i><b>13.1</b> Barcharts</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="visualizing-number-of-systems.html"><a href="visualizing-number-of-systems.html#barchart-with-geom_bar"><i class="fa fa-check"></i><b>13.1.1</b> Barchart with <code>geom_bar()</code></a></li>
<li class="chapter" data-level="13.1.2" data-path="visualizing-number-of-systems.html"><a href="visualizing-number-of-systems.html#barchart-with-geom_col"><i class="fa fa-check"></i><b>13.1.2</b> Barchart with <code>geom_col()</code></a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="visualizing-number-of-systems.html"><a href="visualizing-number-of-systems.html#customizing-a-barchart"><i class="fa fa-check"></i><b>13.2</b> Customizing a Barchart</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="visualizing-number-of-systems.html"><a href="visualizing-number-of-systems.html#global-versus-local-aesthetic-mappings"><i class="fa fa-check"></i><b>13.2.1</b> Global versus Local Aesthetic Mappings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="counting-more-systems.html"><a href="counting-more-systems.html"><i class="fa fa-check"></i><b>14</b> Counting More Systems</a>
<ul>
<li class="chapter" data-level="14.1" data-path="counting-more-systems.html"><a href="counting-more-systems.html#counting-kinds-of-storms"><i class="fa fa-check"></i><b>14.1</b> Counting Kinds of Storms</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="counting-more-systems.html"><a href="counting-more-systems.html#counting-tropical-depressions"><i class="fa fa-check"></i><b>14.1.1</b> Counting Tropical Depressions</a></li>
<li class="chapter" data-level="14.1.2" data-path="counting-more-systems.html"><a href="counting-more-systems.html#counts-based-on-maximum-wind-speed"><i class="fa fa-check"></i><b>14.1.2</b> Counts Based on Maximum Wind Speed</a></li>
<li class="chapter" data-level="14.1.3" data-path="counting-more-systems.html"><a href="counting-more-systems.html#counting-tropical-storms"><i class="fa fa-check"></i><b>14.1.3</b> Counting Tropical Storms</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="counting-all-types-of-systems.html"><a href="counting-all-types-of-systems.html"><i class="fa fa-check"></i><b>15</b> Counting All Types of Systems</a>
<ul>
<li class="chapter" data-level="15.1" data-path="counting-all-types-of-systems.html"><a href="counting-all-types-of-systems.html#handling-various-conditions"><i class="fa fa-check"></i><b>15.1</b> Handling Various Conditions</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="basic-maps.html"><a href="basic-maps.html"><i class="fa fa-check"></i><b>16</b> Basic Maps</a>
<ul>
<li class="chapter" data-level="16.1" data-path="basic-maps.html"><a href="basic-maps.html#graphing-maps"><i class="fa fa-check"></i><b>16.1</b> Graphing Maps</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="basic-maps.html"><a href="basic-maps.html#plotting-location-of-storm-records"><i class="fa fa-check"></i><b>16.1.1</b> Plotting location of storm records</a></li>
<li class="chapter" data-level="16.1.2" data-path="basic-maps.html"><a href="basic-maps.html#basic-map"><i class="fa fa-check"></i><b>16.1.2</b> Basic map</a></li>
<li class="chapter" data-level="16.1.3" data-path="basic-maps.html"><a href="basic-maps.html#mapping-1975-storms"><i class="fa fa-check"></i><b>16.1.3</b> Mapping 1975 Storms</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="less-basic-maps.html"><a href="less-basic-maps.html"><i class="fa fa-check"></i><b>17</b> Less Basic Maps</a>
<ul>
<li class="chapter" data-level="17.1" data-path="less-basic-maps.html"><a href="less-basic-maps.html#more-mapping-approaches"><i class="fa fa-check"></i><b>17.1</b> More mapping approaches</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="less-basic-maps.html"><a href="less-basic-maps.html#storms-from-1975-to-1980"><i class="fa fa-check"></i><b>17.1.1</b> Storms from 1975 to 1980</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://www.gastonsanchez.com" target="blank">gastonsanchez.com</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Tidy Hurricanes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="counting-all-types-of-systems" class="section level1 hasAnchor" number="15">
<h1><span class="header-section-number">15</span> Counting All Types of Systems<a href="counting-all-types-of-systems.html#counting-all-types-of-systems" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>So far we’ve found a satisfying way to count the number of tropical depressions
as well as the number of tropical storms. We could adapt the recent commands
to get a table with counts of hurricanes of category 1, another table for
hurricanes of category 2, and so on and so for.</p>
<p>Interestingly, we can also identify the maximum category for each type of
system, all at once. All we have to do is remove the <code>filter()</code> command,
as follows:</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="counting-all-types-of-systems.html#cb193-1" aria-hidden="true" tabindex="-1"></a>system_status <span class="ot">=</span> storms <span class="sc">%&gt;%</span></span>
<span id="cb193-2"><a href="counting-all-types-of-systems.html#cb193-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, name) <span class="sc">%&gt;%</span></span>
<span id="cb193-3"><a href="counting-all-types-of-systems.html#cb193-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb193-4"><a href="counting-all-types-of-systems.html#cb193-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">wind_max =</span> <span class="fu">max</span>(wind),</span>
<span id="cb193-5"><a href="counting-all-types-of-systems.html#cb193-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">categ_max =</span> <span class="fu">max</span>(category), </span>
<span id="cb193-6"><a href="counting-all-types-of-systems.html#cb193-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>)</span>
<span id="cb193-7"><a href="counting-all-types-of-systems.html#cb193-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb193-8"><a href="counting-all-types-of-systems.html#cb193-8" aria-hidden="true" tabindex="-1"></a><span class="fu">slice_head</span>(system_status, <span class="at">n =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 4
##     year name     wind_max categ_max
##    &lt;dbl&gt; &lt;chr&gt;       &lt;int&gt;     &lt;dbl&gt;
##  1  1975 Amy            60        NA
##  2  1975 Blanche        75        NA
##  3  1975 Caroline      100        NA
##  4  1975 Doris          95        NA
##  5  1975 Eloise        110        NA
##  6  1975 Faye           90        NA
##  7  1975 Gladys        120        NA
##  8  1975 Hallie         45        NA
##  9  1976 Belle         105        NA
## 10  1976 Candice        80        NA</code></pre>
<div id="handling-various-conditions" class="section level2 hasAnchor" number="15.1">
<h2><span class="header-section-number">15.1</span> Handling Various Conditions<a href="counting-all-types-of-systems.html#handling-various-conditions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We can take a further step and add a column that displays the category status
in text form. That is, for <code>categ_max == -1</code> have an associated value of
<code>"depression"</code>; for <code>categ_max == 0</code> have an associated value of <code>"storm"</code>;
for <code>categ_max == 1</code> have an associated value of <code>"hurr1"</code>, etc.</p>
<p>How can you accomplish this? One nice option is with the <code>case_when()</code> function.
Let’s take a look at the command that gets the job done, and then we discuss it.</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="counting-all-types-of-systems.html#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="co"># adding a wind category status in text format</span></span>
<span id="cb195-2"><a href="counting-all-types-of-systems.html#cb195-2" aria-hidden="true" tabindex="-1"></a>system_status <span class="ot">=</span> storms <span class="sc">%&gt;%</span></span>
<span id="cb195-3"><a href="counting-all-types-of-systems.html#cb195-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, name) <span class="sc">%&gt;%</span></span>
<span id="cb195-4"><a href="counting-all-types-of-systems.html#cb195-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb195-5"><a href="counting-all-types-of-systems.html#cb195-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">wind_max =</span> <span class="fu">max</span>(wind),</span>
<span id="cb195-6"><a href="counting-all-types-of-systems.html#cb195-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">wind_scale =</span> <span class="fu">max</span>(category), </span>
<span id="cb195-7"><a href="counting-all-types-of-systems.html#cb195-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb195-8"><a href="counting-all-types-of-systems.html#cb195-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wind_categ =</span> <span class="fu">case_when</span>(</span>
<span id="cb195-9"><a href="counting-all-types-of-systems.html#cb195-9" aria-hidden="true" tabindex="-1"></a>    wind_scale <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">&quot;hurr5&quot;</span>,</span>
<span id="cb195-10"><a href="counting-all-types-of-systems.html#cb195-10" aria-hidden="true" tabindex="-1"></a>    wind_scale <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">&quot;hurr4&quot;</span>,</span>
<span id="cb195-11"><a href="counting-all-types-of-systems.html#cb195-11" aria-hidden="true" tabindex="-1"></a>    wind_scale <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;hurr3&quot;</span>,</span>
<span id="cb195-12"><a href="counting-all-types-of-systems.html#cb195-12" aria-hidden="true" tabindex="-1"></a>    wind_scale <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;hurr2&quot;</span>,</span>
<span id="cb195-13"><a href="counting-all-types-of-systems.html#cb195-13" aria-hidden="true" tabindex="-1"></a>    wind_scale <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;hurr1&quot;</span>,</span>
<span id="cb195-14"><a href="counting-all-types-of-systems.html#cb195-14" aria-hidden="true" tabindex="-1"></a>    wind_scale <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;storm&quot;</span>,</span>
<span id="cb195-15"><a href="counting-all-types-of-systems.html#cb195-15" aria-hidden="true" tabindex="-1"></a>    wind_scale <span class="sc">==</span> <span class="sc">-</span><span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;depression&quot;</span>,</span>
<span id="cb195-16"><a href="counting-all-types-of-systems.html#cb195-16" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb195-17"><a href="counting-all-types-of-systems.html#cb195-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-18"><a href="counting-all-types-of-systems.html#cb195-18" aria-hidden="true" tabindex="-1"></a><span class="fu">slice_head</span>(system_status, <span class="at">n =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 5
##     year name     wind_max wind_scale wind_categ
##    &lt;dbl&gt; &lt;chr&gt;       &lt;int&gt;      &lt;dbl&gt; &lt;chr&gt;     
##  1  1975 Amy            60         NA &lt;NA&gt;      
##  2  1975 Blanche        75         NA &lt;NA&gt;      
##  3  1975 Caroline      100         NA &lt;NA&gt;      
##  4  1975 Doris          95         NA &lt;NA&gt;      
##  5  1975 Eloise        110         NA &lt;NA&gt;      
##  6  1975 Faye           90         NA &lt;NA&gt;      
##  7  1975 Gladys        120         NA &lt;NA&gt;      
##  8  1975 Hallie         45         NA &lt;NA&gt;      
##  9  1976 Belle         105         NA &lt;NA&gt;      
## 10  1976 Candice        80         NA &lt;NA&gt;</code></pre>
<p>To describe how <code>case_when()</code> works, let’s pay attention to the part of the
code that involves this command:</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="counting-all-types-of-systems.html#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="fu">case_when</span>(</span>
<span id="cb197-2"><a href="counting-all-types-of-systems.html#cb197-2" aria-hidden="true" tabindex="-1"></a>    wind_scale <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">&quot;hurr5&quot;</span>,</span>
<span id="cb197-3"><a href="counting-all-types-of-systems.html#cb197-3" aria-hidden="true" tabindex="-1"></a>    wind_scale <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">&quot;hurr4&quot;</span>,</span>
<span id="cb197-4"><a href="counting-all-types-of-systems.html#cb197-4" aria-hidden="true" tabindex="-1"></a>    wind_scale <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;hurr3&quot;</span>,</span>
<span id="cb197-5"><a href="counting-all-types-of-systems.html#cb197-5" aria-hidden="true" tabindex="-1"></a>    wind_scale <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;hurr2&quot;</span>,</span>
<span id="cb197-6"><a href="counting-all-types-of-systems.html#cb197-6" aria-hidden="true" tabindex="-1"></a>    wind_scale <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;hurr1&quot;</span>,</span>
<span id="cb197-7"><a href="counting-all-types-of-systems.html#cb197-7" aria-hidden="true" tabindex="-1"></a>    wind_scale <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;storm&quot;</span>,</span>
<span id="cb197-8"><a href="counting-all-types-of-systems.html#cb197-8" aria-hidden="true" tabindex="-1"></a>    wind_scale <span class="sc">==</span> <span class="sc">-</span><span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;depression&quot;</span>,</span>
<span id="cb197-9"><a href="counting-all-types-of-systems.html#cb197-9" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>As you can tell, the input to <code>case_when()</code> consists of multiple conditions
based on the variable <code>wind_scale</code>. The first condition is:</p>
<pre><code>wind_scale == 5 ~ &quot;hurr5&quot;</code></pre>
<p>This means that the value <code>"hurr5"</code> will be associated to all the <code>wind_scale</code>
values equal to 5. Basically, this indicates a hurricane of category 5.</p>
<p>The next condition is:</p>
<pre><code>wind_scale == 4 ~ &quot;hurr4&quot;</code></pre>
<p>which means that <code>"hurr4"</code> will be associated to all the <code>wind_scale</code>
values equal to 4 related to hurricanes of category 4. And so on, and so forth.</p>
<p>Observe also the use of the tilde <code>~</code> to indicate the output for each text value.</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="counting-all-types-of-systems.html#cb200-1" aria-hidden="true" tabindex="-1"></a>system_status <span class="sc">%&gt;%</span></span>
<span id="cb200-2"><a href="counting-all-types-of-systems.html#cb200-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(year, wind_scale) <span class="sc">%&gt;%</span></span>
<span id="cb200-3"><a href="counting-all-types-of-systems.html#cb200-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb200-4"><a href="counting-all-types-of-systems.html#cb200-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> n, <span class="at">fill =</span> wind_scale)) <span class="sc">+</span></span>
<span id="cb200-5"><a href="counting-all-types-of-systems.html#cb200-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Number of Storms per Year, and Category&quot;</span>,</span>
<span id="cb200-6"><a href="counting-all-types-of-systems.html#cb200-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb200-7"><a href="counting-all-types-of-systems.html#cb200-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="R-tidy-hurricanes_files/figure-html/unnamed-chunk-118-1.png" width="672" /></p>
<p>This barchart allows us to see how different storm categories are distributed
over time. As we know from the graphics obtained in chapter 13, the number
of systems shows an increasing trend. Despite the eye catching color palette,
and the clear increasing pattern, it is hard to tell whether all the storm
categories exhibit the growing trend.</p>
<p>An alternative visual display is to use facets so that we separate
each category in its own frame (see below).</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="counting-all-types-of-systems.html#cb201-1" aria-hidden="true" tabindex="-1"></a>system_status <span class="sc">%&gt;%</span></span>
<span id="cb201-2"><a href="counting-all-types-of-systems.html#cb201-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(year, wind_scale) <span class="sc">%&gt;%</span></span>
<span id="cb201-3"><a href="counting-all-types-of-systems.html#cb201-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb201-4"><a href="counting-all-types-of-systems.html#cb201-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> n, <span class="at">fill =</span> wind_scale)) <span class="sc">+</span></span>
<span id="cb201-5"><a href="counting-all-types-of-systems.html#cb201-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> wind_scale) <span class="sc">+</span></span>
<span id="cb201-6"><a href="counting-all-types-of-systems.html#cb201-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Number of Storms Over Time, and Category&quot;</span>,</span>
<span id="cb201-7"><a href="counting-all-types-of-systems.html#cb201-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Tropical storms have increased in the last 4 decades&quot;</span>,</span>
<span id="cb201-8"><a href="counting-all-types-of-systems.html#cb201-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb201-9"><a href="counting-all-types-of-systems.html#cb201-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb201-10"><a href="counting-all-types-of-systems.html#cb201-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>())</span></code></pre></div>
<p><img src="R-tidy-hurricanes_files/figure-html/unnamed-chunk-119-1.png" width="672" /></p>
<p>In this plot we can easily see that the main type of systems that have been
constantly increasing every decade are tropical storms (category 0). This
pattern was not so evident in the preceding graphic that does not have facets.
If you look at hurricanes of category 3, their number seems to remain stable
between 0 and 2 almost every year.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="counting-more-systems.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="basic-maps.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["R-tidy-hurricanes.pdf", "R-tidy-hurricanes.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
